# Quickstart


## What is a `Type`?

`avsc`'s API is built around Avro `Type`s. Each instance of a type knows how to
encode and decode its corresponding objects. For example the `int`
`PrimitiveType` knows how to encode and decode JavaScript integers:

```javascript
var avsc = require('avsc'); // This will be assumed in the snippets below.

var intType = new avsc.types.PrimitiveType('int');
var buf = intType.encode(123); // Buffer containing 123's Avro encoding.
var n = intType.decode(buf); // === 123!
```

Each `type` also provides other methods which can be useful. Here are two
(refer to the API for the full list):

+ Type compatibility checks:

  ```javascript
  var b1 = intType.isValid(-2); // true, -2 is a valid integer.
  var b2 = intType.isValid('hi'); // false, 'hi' is not.
  ```

+ Random object generation:

  ```javascript
  var n = intType.random(); // A random integer.
  ```


## How do I get a `Type`?

It is possible to instantiate types directly by calling their constructors
(available in the `avsc.types` namespace), but in the vast majority of
use-cases they will be automatically generated by parsing an existing schema.
`avsc` exposes a `parse` method to do the heavy lifting:

```javascript
// Equivalent to what we did earlier.
var intType = avsc.parse('int');

// A slightly more complex type.
var mapType = avsc.parse({type: 'map', values: 'string'});

// The sky is the limit!
var personType = avsc.parse({
  type: 'record',
  name: 'Person',
  fields: [
    {name: 'name', type: 'string'},
    {name: 'age', type: 'int'},
    {name: 'phone', type: ['null', 'string'], default: null},
    {name: 'address', type: {
      type: 'record',
      name: 'Address',
      fields: [
        {name: 'city', type: 'string'},
        {name: 'zip', type: 'int'}
      ]
    }}
  ]
});
```

The methods we mentioned earlier can now really shine:

```javascript
personType.isValid({
  name: 'Ann',
  age: 25,
  phone: null,
  address: {city: 'Cambridge', zip: 02139}
}); // true

personType.isValid({
  name: 'Bob',
  age: 28,
  phone: {string: '617-000-1234'},
  address: {city: 'Boston'}
}); // false (missing the zip code).
```

Finally, since schemas are often stored in JSON files, `avsc` exposes
`parseFile` method just for that:

```javascript
var couponType = avsc.parseFile('schemas/Coupon.avsc');
```
